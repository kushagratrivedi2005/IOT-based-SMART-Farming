# ESW Project: Smart Farming Dashboard

## Overview
This project is a web application for smart farming, which integrates real-time sensor data monitoring, predictive analytics, and visualization. It fetches data automatically from the ThingSpeak server and stores it in a `feed.csv` file. The application also incorporates an ML model to generate predictions based on historical data.

## Features

### Alerts Tab
- Notifies users when any sensor value exceeds predefined thresholds in real-time.

### Dashboard Tab
- Displays the current values of all sensors.
- Clicking on any sensor value shows a graph of its last 20 values.

### Results Tab
- Shows predictions for the next 24 hours based on previous sensor readings.

### Map Tab
- Displays the farm map using Google Maps.

## Installation

### Prerequisites
- Ensure Node.js and npm are installed on your machine.
- Python 3 installed with required dependencies for the ML model (`ml_model.py`).

### Steps
1. Clone the repository:
```bash
git clone <repository_url>
cd <repository_folder>
```

2. Install the Node.js dependencies:
```bash
npm install express
npm install body-parser
npm install csv-writer
npm install fs
```

## Running the Application
1. Start the server:
```bash
node server.js
```
You should see a message like:
```
Server is running on http://localhost:3000
```

2. Open the browser and navigate to `http://localhost:3000` to access the web application.

## Functionality

### Data Handling
- **Automatic Fetching**: Sensor data is fetched automatically from ThingSpeak and saved in `feed.csv`.
- **CSV Reindexing**: Data is sorted by timestamp and reindexed with an `entry_id` for consistency.

### ML Model Integration
- The application integrates an ML model (`ml_model.py`) to generate predictions for the next 24 hours based on historical sensor data.
- The model runs whenever predictions are requested, and results are stored in `interval_predictions.json`.

### Graph and Visualization
- Graphs are generated dynamically for the selected sensor, showing its last 20 values.
- Predictions for future values are displayed in the Results Tab.

### Alerts and Notifications
- Real-time alerts are triggered if any sensor value exceeds its predefined threshold.

### Map Integration
- The Map Tab uses Google Maps to visualize the farm layout and sensor locations.

## Project Structure
- `server.js`: Main server file managing routes and API endpoints.
- `feed.csv`: Stores sensor data fetched from ThingSpeak.
- `ml_model.py`: Python script for predictive analysis.
- `interval_predictions.json`: Stores predictions generated by the ML model.
- `public/`: Contains static files like HTML, CSS, and JavaScript for the frontend.

## Contribution
Contributions are welcome! Please fork the repository and submit a pull request with detailed information about the changes you've made.

## License
This project is licensed under the MIT License.
